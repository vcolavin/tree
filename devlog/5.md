This was going to be an adendum to the last note but it got too long.

Maybe instead of blocks having contents which are dictionaries, they could be
three-dimensional arrays. This would make it easier to parse for rendering.

i.e., instead of this:

```json
{
  "coords": [0, 0],
  "contents": {
    "id1": {
      "id": "id1",
      "type": "tree",
      "position": [1, 2, 3],
      "leaves": {
        "id": "id3",
        "position": "id1"
      }
    },
    "id2": {
      "id": "id2",
      "type": "person",
      "position": [2, 3, 4]
    }
  }
}
```

They could be like this, with each individual coordinate containing a dictionary
of its contents.

```json
{
  "coords": [0, 0],
  "contents": [
    [ // z-level 0
      [{}, {}, {}],
      [{}, { "id1": { "type": "tree", "position": [0, 1, 1] } }, {}],
      [{}, {}, {}]
    ],
    [ // z-level 1
      [{}, {}, {}],
      [{}, {}, {}],
      [{}, {}, {}]
    ],
    [ // z-level 2
      [{}, {}, {}],
      [{}, {}, {}],
      [{}, {}, {}]
    ]
  ]
}
```

OR it could be something like this, where each coordinate has a list of IDs
which refers to a dicionary elsewhere.

```json
{
  "coords": [0, 0],
  "contentList": [
    [ // z-level 0
      [[], [], []],
      [[], ["id1"], []],
      [[], [], ["id3"]]
    ],
    [ // z-level 1
      [[], [], []],
      [[], [], []],
      [[], [], []]
    ],
    [ // z-level 2
      [[], [], []],
      [[], [], []],
      [[], [], []]
    ]
  ],
  "contentDictionary": {
    "id1": {
      // tree
    },
    "id2": {
      // person
    }
  }
}
```

Accessing the things at coordinate `[0, 1, 1]` would look like this:

```ts
block.contentList[0][1][1].map((id) => block.contentDictionary[id]);
```

I kind of like this. You have reasonably fast knowledge of what is where, but
the data is all still accessible at the top level

This structure implies that `contentDictionary` is the source of truth which
`contentList` is derived from.

One question I still have is... is it better for `contentDictionary` to be
totally flat, with all the things at the top level, or should it be a tree like
structure?

```json
// tree-like:
{
  "id1": {
    "id": "id1",
    "type": "tree",
    "position": [0, 0, 0],
    "limbs": [{
      "id": "id2",
      "type": "limb",
      "position": "id1",
      "leaves": [
        {
          "id": "id3",
          "type": "leaf",
          "position": "id2"
        },
        {
          "id": "id4",
          "type": "leaf",
          "position": "id2"
        }
      ]
    }]
  }
}

// flat:
{
  "id1": {
    "id": "id1",
    "type": "tree",
    "position": [0, 0, 0],
    "limbs": ["id2"]
  },
  "id2": {
    "id": "id2",
    "type": "limb",
    "position": "id1",
    "leaves": ["id3", "id4"]
  },
  "id3": {
    "id": "id3",
    "type": "leaf",
    "position": "id2"
  },
  "id4": {
    "id": "id4",
    "type": "leaf",
    "position": "id2"
  }
}
```

I think this is a major question people wrestle with when designing JSON schema.
We're talking about schemes for graph traversal.
